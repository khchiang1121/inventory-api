# 私有雲端資源管理平台 - 系統功能說明

**適用對象：** 部門管理者、平台操作者、運維團隊

---

## 🌐 系統定位

本平台為企業內部建置的私有雲資源管理系統，由基礎設施維運團隊負責操作與維護，整合虛擬機部署、實體主機配置、Kubernetes 叢集建立、資源配額控管、維護者制度與租戶分層管理等功能。

本系統並非提供給最終使用者操作，而是透過維運人員操作完成後交付結果，確保：

- 各單位資源可見且負責清晰。
- 建立標準流程並落實責任制。
- 平台具備進階調度能力與彈性部署機制。

## 🏗️ 高階架構總覽
我們的系統負責資源管理層，但不負責資源的創建，創建會交由控制器負責。
```
上半部分尚未設計，請自行擴充
      ▲
      │
┌────────── 資源管理層 (Resource Manager) ──────────┐
│ 裸機管理 │ VM 管理 │ K8s 叢集 │ 網路│ 儲存 │ 配額政策 │
└────────────────────────────────────────────┘
      ▲
      │
┌──────────── 基礎設施層 (Data Center) ─────────────┐
│  機櫃/機房 │ BMC/IPMI │ Switch │ SAN │ NAS │ Ceph │
└────────────────────────────────────────────┘
```
---

## 🧩 系統功能模組

### 1. 虛擬機管理（Virtual Machine Management）

| 功能 | 說明 |
|------|------|
| 建立虛擬機 | 指定租戶、主機、規格、所屬叢集，系統自動分配資源並啟動部署流程。 |
| 啟動虛擬機 | 對已關機的虛擬機進行開機。 |
| 關閉虛擬機 | 執行安全的關機程序，亦可支援強制關機。 |
| 重啟虛擬機 | 執行重新啟動流程，保留原本的資源與設定。 |
| 刪除虛擬機 | 移除虛擬機與資源佔用，可設定是否保留資料磁碟。 |
| 查看詳細狀態 | 顯示 CPU / 記憶體 / 儲存空間使用狀況與當前狀態（建立中、執行中、停止等）。 |
| 自訂命名規則 | 建立時可依租戶或部門自訂命名邏輯，利於資產追蹤。 |
| 關聯資源查詢 | 顯示虛擬機所屬的租戶、主機、維護者、K8s 叢集等資訊。 |

---

### 2. 租戶與配額管理（Tenant & Quota Management）

| 功能 | 說明 |
|------|------|
| 建立租戶 | 可依照部門、專案或外部客戶建立獨立資源空間。 |
| 配額限制 | 限制租戶使用的 CPU、記憶體、儲存容量，並可跨主機群組細分。 |
| 查看資源用量 | 一覽租戶已使用與剩餘資源，支援配額告警（未來版本）。 |
| 停用租戶 | 暫停該租戶的所有資源建立與操作行為。 |
| 刪除租戶 | 清除該租戶與其關聯的資源（需先移除所有虛擬機與叢集）。 |

---

### 3. Kubernetes 叢集管理（Kubernetes Cluster Management）

平台支援多叢集 Kubernetes 管理，參考 GKE / EKS / OpenShift 設計，具備以下能力：

#### 📦 基本操作

| 功能 | 說明 |
|------|------|
| 建立 K8s 叢集 | 選擇租戶與主機群組，系統可根據預設模板或自訂設定建立控制平面與節點群。 |
| 查看叢集資訊 | 顯示叢集名稱、描述、Kubernetes 版本、租戶歸屬、建立時間等。 |
| 調整叢集狀態 | 將叢集標記為「運作中」、「維護中」、「異常」等，利於資源排程與觀測。 |
| 刪除叢集 | 若不再使用，可將叢集與其底層節點完整清除。 |

#### ⚙️ 進階操作（對應公有雲常見能力）

| 功能 | 說明 |
|------|------|
| 升級版本 | 升級控制平面與節點的 Kubernetes 版本，支援滾動升級與自動回滾（未來版本）。 |
| 擴縮節點數量 | 可手動或自動調整節點數（即 VM 數量）以支撐應用負載。 |
| 節點群組設定 | 支援同一叢集中多組節點設定（不同主機群組、不同 VM 規格）。 |
| 認證管理整合 | 支援租戶使用憑證（如 kubeconfig）登入叢集（未來支援整合 LDAP/OIDC）。 |
| 網路與儲存資源配置 | 可指定網路插件（如 Cilium）、儲存類型（如 Ceph、NFS）於叢集中使用。 |
| 應用部署入口（未來） | 可串接 Helm / ArgoCD，讓租戶快速部署應用模板。 |
| 健康監控（未來） | 提供叢集節點健康、Pod 分佈、網路流量等即時指標圖表。 |

---

### 4. 實體主機與群組（Bare-metal Hosts & Grouping）

| 功能 | 說明 |
|------|------|
| 登錄主機 | 管理平台中的所有實體主機資訊，包含資源、機房位置與狀態。 |
| 分組管理 | 將主機依據地理區域、部門用途進行邏輯分組。 |
| 資源分配依據 | 所有虛擬機與叢集的部署都可指定部署在哪個主機群組。 |
| 支援查詢與篩選 | 依狀態（運作中、維護中）、可用資源、自訂欄位進行快速查詢。 |

---

### 5. 維護者制度（Maintainer & Ownership Management）

| 功能 | 說明 |
|------|------|
| 維護者註冊 | 建立個人維護者資料，含姓名、Email、狀態等。 |
| 建立維護者群組 | 將多位維護者組成團隊並指定負責人，支援跨部門協作。 |
| 指派維護責任 | 為實體機、虛擬機、K8s 叢集等資源分配專屬維護人員或群組。 |
| 查詢責任歸屬 | 快速查詢特定資源的負責人，或查某位人員名下的所有資源。 |

---

### 6. 群組租戶配額（Quota per Host Group & Tenant）

| 功能 | 說明 |
|------|------|
| 配額設定 | 在主機群組層級對租戶設定最大使用比例或資源上限（CPU%、記憶體、磁碟）。 |
| 多層配額控制 | 支援「平台 → 群組 → 租戶」三層配額設計，便於大型企業資源管控。 |
| 可視化查詢 | 展示每個配額配置與實際使用情況，利於資源調整與報表產出。 |
