{
    "name": "Inventory API Development",
    "dockerComposeFile": [
        "../docker-compose.yml",
        "docker-compose.yml"
    ],
    "service": "app",
    "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
    "shutdownAction": "stopCompose",
    "containerUser": "vscode",
    "remoteUser": "vscode",
    // These features are already pre-installed in the base image khchiang1121/python-api-devcontainer:latest
    // You don't need to uncomment these features as they are already enabled
    // The comments are left for documentation purposes.
    // "features": {
    //     "ghcr.io/devcontainers/features/git:1": {},
    //     "ghcr.io/devcontainers/features/github-cli:1": {},
    //     // "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    //     "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
    //     "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {},
    //     "ghcr.io/devcontainers/features/node:1": {},
    //     "ghcr.io/devcontainers/features/sshd:1": {},
    //     "ghcr.io/mpriscella/features/kind:1": {},
    //     "ghcr.io/dhoeric/features/k9s:1": {},
    //     "ghcr.io/devcontainers/features/common-utils:2": {
    //         "installZsh": true,
    //         "configureZshAsDefaultShell": true,
    //         "installOhMyZsh": true,
    //         "upgradePackages": true,
    //         "username": "vscode",
    //         "userUid": "1000",
    //         "userGid": "1000"
    //     }
    // },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-python.black-formatter",
                "ms-python.isort",
                "ms-python.mypy-type-checker",
                "ms-python.pylint",
                "bradlc.vscode-tailwindcss",
                "ms-vscode.vscode-json",
                "redhat.vscode-yaml",
                "ms-vscode-remote.remote-containers",
                "github.copilot",
                "github.copilot-chat",
                "ms-vscode.hexeditor",
                "humao.rest-client",
                "rangav.vscode-thunder-client",
                "ckolkman.vscode-postgres",
                "mtxr.sqltools",
                "mtxr.sqltools-driver-pg",
                "formulahendry.auto-rename-tag",
                "esbenp.prettier-vscode",
                "ms-vscode.vscode-typescript-next",
                "ms-ceintl.vscode-language-pack-zh-hant",
                "EditorConfig.EditorConfig",
                "dbaeumer.vscode-eslint",
                "njpwerner.autodocstring",
                "donjayamanne.githistory",
                "ms-azuretools.vscode-containers",
                "ms-azuretools.vscode-docker",
                "mhutchie.git-graph",
                "ms-vscode.makefile-tools"
            ],
            "settings": {
                "python.defaultInterpreterPath": "/usr/bin/python",
                "python.linting.enabled": true,
                "python.linting.pylintEnabled": true,
                "python.formatting.provider": "black",
                "python.sortImports.path": "isort",
                "python.analysis.typeCheckingMode": "basic",
                "python.analysis.autoImportCompletions": true,
                "editor.formatOnSave": true,
                "editor.codeActionsOnSave": {
                    "source.organizeImports": true
                },
                "[python]": {
                    "editor.defaultFormatter": "ms-python.black-formatter"
                },
                "files.exclude": {
                    "**/__pycache__": true,
                    "**/*.pyc": true,
                    "**/.mypy_cache": true
                },
                "terminal.integrated.defaultProfile.linux": "zsh",
                "http.proxy": "${localEnv:http_proxy}",
                "telemetry.telemetryLevel": "off"
            }
        }
    },
    "forwardPorts": [8201, 5432, 8202],
    "portsAttributes": {
        "8201": {
            "label": "Django API",
            "onAutoForward": "notify"
        },
        "5432": {
            "label": "PostgreSQL"
        },
        "8202": {
            "label": "pgAdmin"
        }
    },
    "onCreateCommand": "echo 'Welcome to the Development Container!'",
    "postCreateCommand": {
        "init": "./entrypoint.sh && make reset"
    },
    // "postStartCommand": "sudo chown -R vscode:vscode /home/vscode/.vscode-server",
    "mounts": [
        // "source=${env:HOME}/.vscode-server/bin,target=/home/vscode/.vscode-server/bin,type=bind,consistency=cached",
        "source=${localWorkspaceFolder},target=/workspaces/${localWorkspaceFolderBasename},type=bind,consistency=cached"
    ]
}
